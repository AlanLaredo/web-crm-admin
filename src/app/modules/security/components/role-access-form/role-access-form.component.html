<div class="row">
  <div class="col-12">
    <mat-progress-bar mode="indeterminate" *ngIf="_loading"></mat-progress-bar>
    <div class="row">
      <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-4">
        <mat-card>
          <mat-card-content>
            <form *ngIf="formBuilderGroup" [formGroup]="formBuilderGroup">       
              <mat-form-field appearance="legacy" class="custom-mat-form-field">
                <mat-label>{{'roleAccess.cols.name' | translate}}</mat-label>
                <input
                autocomplete="off"
                matInput="matInput"
                placeholder="{{'form.instructions.enterAText' | translate}}"
                formControlName="name"
                />
                <mat-hint>{{'form.validations.required' | translate}} </mat-hint>
              </mat-form-field>
              <mat-form-field appearance="legacy" class="custom-mat-form-field">
                <mat-label>{{'roleAccess.cols.description' | translate}}</mat-label>
                <input
                autocomplete="off"
                matInput="matInput"
                placeholder="{{'form.instructions.enterAText' | translate}}"
                formControlName="description"/>
                <mat-hint>{{'form.validations.required' | translate}} </mat-hint>
              </mat-form-field>
            </form>
          </mat-card-content>
        </mat-card>
      </div>
      <div class="col-12 col-sm-6 col-md-6 col-lg-8 col-xl-9 mb-4">
        <select-permissions-by-category-component [loading]="_loading" [data]="_permissions" [currentPermissions]="permissionsIds" (outPermissionSettings)="updatePermissionSettings($event)"></select-permissions-by-category-component>
      </div>
    </div>
  </div>
</div>
<div class="row" *ngIf="formBuilderGroup">
  <div class="col-12 mt-4">
    <button
        [disabled]="!formBuilderGroup.valid || _loading"
        class="text-white"
        mat-flat-button="mat-flat-button"
        (click)="submitForm()"
        color="primary">
        {{'form.save' | translate}}
    </button>
    <button
    class="cancel-button"
    mat-button="mat-button"
    (click)="cancelForm()"
    color="primary"
    [hidden]="!_data.id">
    {{'form.cancel' | translate}}
    </button>
  </div>
</div>
